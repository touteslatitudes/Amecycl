jQuery(document).ready(function(a){"use strict";function t(a){for(var t=window.location.search.substring(1).split("&"),e=0;e<t.length;e++){var i=t[e].split("=");if(i[0]==a)return i[1]}}a("#tabs").tabs({active:0}),a("#tabs").tabs("option","active",a("#acy-lasttab").val()),a(".submit").click(function(t){var e=a("#tabs").tabs("option","active");a("#acy-lasttab").val(e)}),a("div.wrap label").tooltip(),a("div.wrap input").tooltip(),a("div.wrap select").tooltip(),a("#dialog-msg").dialog({resizable:!1,height:100,width:400,position:{my:"top+50",at:"top",of:window}}),a("#dialog-confirm").dialog({resizable:!1,height:180,width:400,modal:!0,buttons:{Supprimer:function(){if(a(this).dialog("close"),"delete"==t("action")){var e=location.pathname,i=t("page");if("region-admin"==i){var n=t("region");a.ajax({type:"post",url:acyvar.url+"wp-admin/admin-ajax.php",data:{action:"delete-region",rid:n},dataType:"json",success:function(a){if(a.status){var t=e+"?page="+i;location.assign(t)}else alert(a.msg)},statusCode:{404:function(){alert("page not found")}}})}else if("setting-admin"==i){var o=t("setting");a.ajax({type:"post",url:acyvar.url+"wp-admin/admin-ajax.php",data:{action:"delete-setting",sid:o},dataType:"json",success:function(a){if(a.status){var t=e+"?page="+i;location.assign(t)}else alert(a.msg)},statusCode:{404:function(){alert("page not found")}}})}}},Annuler:function(){a(this).dialog("close")}}}),a(".selectfile").click(function(){a("#fileinput").click()}),a("#fileinput").change(function(){var t=a("#fileinput")[0].files[0].name;a("#selected_filename").val(t)}),a(".upload").on("click",function(){var t=a("#fileinput").prop("files")[0],e=a("#edited_region")[0].value;if(null!=t){var i=new FormData;i.append("file",t),i.append("edited_region",e),a.ajax({type:"POST",url:acyvar.url+"wp-admin/admin-ajax.php?action=upload-region-file",contentType:!1,processData:!1,data:i,dataType:"json",success:function(t){t.status?(a("#acy-filename").innerHTML=t.options,alert("Fichier téléchargé avec succès")):alert("Erreur de téléchargement."),a("#fileinput").val(""),a("#selected_filename").val("")}})}return!1})});